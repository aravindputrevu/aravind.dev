<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" href="/thumbnails/favicon.png"><meta name="generator" content="Astro v4.16.19"><title>Tracing a Java, MySQL Application deployed on Google Cloud Run - Aravind Putrevu</title><meta name="description" content="Tracing a Java, MySQL Application deployed on Google Cloud Run"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Social Media --><meta property="og:title" content="Tracing a Java, MySQL Application deployed on Google Cloud Run - Aravind Putrevu"><meta property="og:description" content="Tracing a Java, MySQL Application deployed on Google Cloud Run"><meta property="og:type" content="website"><!-- Twitter Card --><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@aravindputrevu"><meta name="twitter:title" content="Tracing a Java, MySQL Application deployed on Google Cloud Run - Aravind Putrevu"><meta name="twitter:description" content="Tracing a Java, MySQL Application deployed on Google Cloud Run"><link rel="stylesheet" href="/_astro/_slug_.D1oAbOhf.css">
<style>.article-header[data-astro-cid-fzx4jmue]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #eee}.article-header[data-astro-cid-fzx4jmue] h1[data-astro-cid-fzx4jmue]{margin-bottom:.5rem}.article-header[data-astro-cid-fzx4jmue] time[data-astro-cid-fzx4jmue]{color:#666;font-size:.9rem}.tags[data-astro-cid-fzx4jmue]{display:flex;gap:.5rem;margin-top:1rem;flex-wrap:wrap}.tag[data-astro-cid-fzx4jmue]{background:#f0f0f0;padding:.25rem .75rem;border-radius:3px;font-size:.85rem}.post-content[data-astro-cid-fzx4jmue]{line-height:1.8}
</style><script type="module">const d=localStorage.getItem("theme");d==="dark"&&document.documentElement.classList.add("dark");const e=document.getElementById("dark-mode-button"),o=localStorage.getItem("theme");o==="dark"&&(document.documentElement.classList.add("dark"),e&&(e.textContent="‚òÄÔ∏è"));e?.addEventListener("click",()=>{if(document.documentElement.classList.contains("dark"))document.documentElement.classList.remove("dark"),localStorage.removeItem("theme"),document.querySelector("#dark-mode")?.remove(),e.textContent="üåô";else{document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),e.textContent="‚òÄÔ∏è";const n=document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.id="dark-mode",t.href="/dark.css",n.appendChild(t)}});
</script></head> <body> <nav class="navbar"> <div class="container"> <div class="flex"> <div> <a href="/" class="brand"> <span class="emoji"> <img src="/images/code-flat.png" alt="code"> </span> 
Aravind Putrevu
</a> </div> <div class="flex"> <a href="/blog">Blogs</a> <a href="/guides">Tech Guides</a> <a href="/about">About</a> <button id="dark-mode-button">üåô</button> </div> </div> </div> </nav>  <main>  <article class="container" data-astro-cid-fzx4jmue> <header class="article-header" data-astro-cid-fzx4jmue> <h1 data-astro-cid-fzx4jmue>Tracing a Java, MySQL Application deployed on Google Cloud Run</h1> <time data-astro-cid-fzx4jmue>May 9, 2021</time> <div class="tags" data-astro-cid-fzx4jmue> <span class="tag" data-astro-cid-fzx4jmue>google-cloud</span><span class="tag" data-astro-cid-fzx4jmue>serverless</span><span class="tag" data-astro-cid-fzx4jmue>java</span><span class="tag" data-astro-cid-fzx4jmue>tracing</span> </div> </header> <div class="post-content" data-astro-cid-fzx4jmue> <h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>Google Cloud Platform or Cloud in General.
<ul>
<li>Configuring Billing account.</li>
<li>Enabling Cloud SQL, Cloud Run API.</li>
</ul>
</li>
<li>Java &#x26; Spring Boot</li>
<li>MySQL</li>
<li>VS Code</li>
</ol>
<h2 id="introduction-to-tracing">Introduction to Tracing</h2>
<p>Tracing helps you to understand the flow of requests happening in distributed microservices-based applications or monoliths. We can do performance profiling, root cause analysis, find failures, errors, and exceptions!</p>
<p>Developers are intrigued by the microservices architecture with other ecosystem tools like Docker, Kubernetes, Java frameworks like <a href="https://medium.com/javarevisited/10-best-free-dropwizard-vert-x-micronaut-and-quarkus-online-courses-for-java-developers-9c2b4161f17">Quarkus</a>, <a href="https://javarevisited.blogspot.com/2020/09/top-5-courses-to-learn-dropwizard-Micronaut-Quarkus-Java-Microservices.html">Micronaut</a>, <a href="https://medium.com/javarevisited/top-10-courses-to-learn-spring-boot-in-2020-best-of-lot-6ffce88a1b6e">Spring Boot</a>.</p>
<p>Tracing improves the developer‚Äôs productivity and also helps the product owner prioritize and triage issues quickly.</p>
<h2 id="introduction-to-managed-serverless-platforms">Introduction to managed Serverless platforms</h2>
<h3 id="serverless">Serverless</h3>
<p>Serverless is a cloud computing concept wherein you just need to provide the code that needs to be run on the server. The developers are not concerned about the infrastructure or maintenance of it. Essentially a piece of code or method, the function gets stored and executed.</p>
<p>However, the code still needs to be run on Servers. It is a misnomer that Serverless applications don‚Äôt need Servers while, in reality, code still runs on servers. For more details on Serverless, please refer to <a href="https://en.wikipedia.org/wiki/Serverless_computing">wikipedia topic page</a>.</p>
<p>Several serverless use cases include running stateless HTTP endpoints, simple tasks like downloading reports, processing data, etc. However, Serverless is not suitable for all use cases.</p>
<h3 id="serverless-platforms">Serverless Platforms</h3>
<p>Many Serverless platforms are managed by cloud platforms; popular ones include <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>, <a href="https://cloud.google.com/functions">Google Cloud Functions</a>, and <a href="https://azure.microsoft.com/en-in/services/functions/">Azure Functions</a>. Some of these vendors call their service FaaS (Function as a service) too.</p>
<p>There are some Open source Serverless projects like <a href="https://fission.io/">Fission</a>, <a href="https://www.openfaas.com/">OpenFaaS</a> which lets you run and host the functions.</p>
<h3 id="managed-container-serverless-platforms">Managed Container Serverless Platforms</h3>
<p>However, the runtimes mentioned above support only a few programming languages and versions. Developers also can‚Äôt bring in their own tools ultimately to build and run their application. You can only run what the runtime supports.</p>
<p>This is where managed Container Serverless Platforms help, bringing the best of both worlds. Developers can bring in their tooling and run the application code in a managed fashion. All that you need is to provide a container.</p>
<p><a href="https://knative.dev">Knative</a> set the ground for this, letting you run the containers on the popular container orchestration platform, Kubernetes.</p>
<h2 id="cloud-run">Cloud Run</h2>
<p><a href="https://cloud.google.com/run">Cloud Run</a> is a managed container serverless service from Google Cloud Platform based on Knative. It helps you to run any container from any language, any library, and with any binary.</p>
<p>Cloud run scales automatically and also comes to 0 when not used. It has a free tier.</p>
<h2 id="cloud-sql-for-mysql">Cloud SQL for MySQL</h2>
<p><a href="https://cloud.google.com/sql">Cloud SQL</a> is a managed relational database service for MySQL, PostgresSQL, and SQL Server.</p>
<p>I‚Äôm using the MySQL version to build and run the queries.</p>
<h2 id="elastic-java-apm">Elastic Java APM</h2>
<p><a href="https://github.com/elastic/elasticsearch">Elasticsearch</a> is a free and open distributed search engine used for building search engines, analyzing logs, storing metrics, security events, and even application traces, enabling distributing tracing for microservice environments.</p>
<p>Elastic launched an <a href="https://github.com/elastic/apm">Open source Application Performance Monitoring (APM)</a> in 2018 with Elasticsearch 6.2, enabling applications to ship their traces. APM today has many more features like correlations, anomaly detection.</p>
<p>We‚Äôll be using Java Agent to the instrument and collect application traces and performance metrics.</p>
<h2 id="high-level-application-architecture">High-Level Application Architecture</h2>
<p>We‚Äôll deploy a Spring Boot Application on Google Cloud Run and query the Cloud SQL for MySQL. We‚Äôll ship all the application performance metrics and traces to Elastic APM in Elastic Cloud.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-high-arch.png" alt="High-level architecture"></p>
<h2 id="deploying-to-cloud-run">Deploying to Cloud Run</h2>
<h3 id="creating-cloud-sql-for-mysql-instance">Creating Cloud SQL for MySQL instance</h3>
<p>Create a Google Cloud MySQL instance from the <a href="https://console.cloud.google.com/sql/instances">Google Cloud Console Cloud SQL</a> page.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-create-instances.png" alt="Create Google Cloud SQL Instance"></p>
<p>Click on the new instance and choose MySQL.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-cloud-sql-db.png" alt="Google Cloud MySQL"></p>
<p>Give an ‚ÄúInstance ID,‚Äù something like <code>attendance-db</code> and click on ‚Äúgenerate‚Äù to generate a password. This will be used later to connect to the database instance. Choose the region of your choice. I‚Äôve chosen the Single zone as it is for a demo. It is recommended to have DB in mutliple zones. I went ahead with the default memory, CPU, storage options provided.</p>
<p>Click on the database name you have created and navigate to the ‚ÄúDatabases‚Äù menu. Create a database. That we could use in the application.</p>
<p>Note the database name, connection name, generated password. We will use it in our application to connect with the database instance.</p>
<h2 id="building-spring-boot-application">Building Spring Boot Application</h2>
<p>Note: I used the Google Cloud Shell + Google Cloud Code extension to deploy the containerized app to simplify the deployment process. You can use VS Code and Cloud Extension from your own laptop and connect to Cloud SQL, but you need to configure the account‚Äôs private key on your local file system, prepended with <code>file:</code></p>
<p>Log in to Google Cloud Platform (GCP) and click on Cloud Shell on the top right.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-act-shell.png" alt="Activate Google Cloud Shell"></p>
<p>Cloud Shell helps you to manage your infrastructure and develop applications from any browser. Cloud shell also comes with pre-installed tools like MySQL, kubectl, Docker, Minikube.</p>
<p>Once Cloud shell gets up and running, make sure you set the right GCP project for deploying the code.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#D8DEE9FF">gcloud config set project </span><span style="color:#ECEFF4">[</span><span style="color:#D8DEE9">PROJECT_ID</span><span style="color:#ECEFF4">]</span></span>
<span class="line"></span></code></pre>
<p>Click on ‚ÄúOpen Editor‚Äù in the Cloud Shell. This editor is an OSS project called <a href="https://theia-ide.org/">Theia-IDE</a> which looks very similar to <a href="https://code.visualstudio.com/">VS Code</a> üòâ We‚Äôll build and deploy the code using Cloud editor. Just like Cloud shell, it comes with all the VSCode extensions.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-open-editor.png" alt="Open Google Cloud Editor"></p>
<p>Clone the repository to the workspace by using the cloud shell or by creating a new terminal. You will get a finished project by cloning the below repo. You just need to add the relevant configuration details.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#D8DEE9FF">git clone https:</span><span style="color:#616E88">//github.com/aravindputrevu/elastic-cloud-samples.git</span></span>
<span class="line"></span></code></pre>
<h3 id="dependencies">Dependencies</h3>
<p><a href="https://spring.io/projects/spring-cloud-gcp">Spring cloud GCP</a> project enables developers to easily integrate spring applications into GCP.</p>
<p>There are many integrations offered under the Spring Cloud GCP umbrella.</p>
<p>It is recommended to add the below dependency. It will help you manage the version numbers of <code>spring-cloud-gcp</code> dependencies in your project.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="xml"><code><span class="line"><span style="color:#81A1C1">&#x3C;dependencyManagement></span></span>
<span class="line"><span style="color:#81A1C1">   &#x3C;dependencies></span></span>
<span class="line"><span style="color:#81A1C1">       &#x3C;dependency></span></span>
<span class="line"><span style="color:#81A1C1">           &#x3C;groupId></span><span style="color:#D8DEE9FF">org.springframework.cloud</span><span style="color:#81A1C1">&#x3C;/groupId></span></span>
<span class="line"><span style="color:#81A1C1">           &#x3C;artifactId></span><span style="color:#D8DEE9FF">spring-cloud-gcp-dependencies</span><span style="color:#81A1C1">&#x3C;/artifactId></span></span>
<span class="line"><span style="color:#81A1C1">           &#x3C;version></span><span style="color:#D8DEE9FF">2.0.2</span><span style="color:#81A1C1">&#x3C;/version></span></span>
<span class="line"><span style="color:#81A1C1">           &#x3C;type></span><span style="color:#D8DEE9FF">pom</span><span style="color:#81A1C1">&#x3C;/type></span></span>
<span class="line"><span style="color:#81A1C1">           &#x3C;scope></span><span style="color:#D8DEE9FF">import</span><span style="color:#81A1C1">&#x3C;/scope></span></span>
<span class="line"><span style="color:#81A1C1">       &#x3C;/dependency></span></span>
<span class="line"><span style="color:#81A1C1">   &#x3C;/dependencies></span></span>
<span class="line"><span style="color:#81A1C1">&#x3C;/dependencyManagement></span></span>
<span class="line"></span></code></pre>
<p>Spring Cloud GCP offers starter dependencies through Maven to easily depend on different library modules.
<code>spring-cloud-gcp-starter-sql-mysql</code> lets us connect to <a href="https://cloud.google.com/sql">Cloud SQL for MySQL</a>.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="xml"><code><span class="line"><span style="color:#81A1C1">&#x3C;dependency></span></span>
<span class="line"><span style="color:#81A1C1">        &#x3C;groupId></span><span style="color:#D8DEE9FF">org.springframework.cloud</span><span style="color:#81A1C1">&#x3C;/groupId></span></span>
<span class="line"><span style="color:#81A1C1">        &#x3C;artifactId></span><span style="color:#D8DEE9FF">spring-cloud-gcp-starter-sql-mysql</span><span style="color:#81A1C1">&#x3C;/artifactId></span></span>
<span class="line"><span style="color:#81A1C1">&#x3C;/dependency></span></span>
<span class="line"></span></code></pre>
<h3 id="configure--cloud-sql-for-mysql">Configure  Cloud SQL for MySQL</h3>
<p>Provide the database name, instance-connection-name, password from the previous step in <code>application.properties</code>.</p>
<blockquote>
<p>Tip: Instance connection name can be found in GCP Cloud SQL page be in the format
<code>&#x3C;project-name>:&#x3C;region>:&#x3C;database-instance-name></code></p>
</blockquote>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF">spring.cloud.gcp.sql.database-name=</span></span>
<span class="line"><span style="color:#D8DEE9FF">spring.cloud.gcp.sql.instance-connection-name=</span></span>
<span class="line"><span style="color:#D8DEE9FF">spring.datasource.password=</span></span>
<span class="line"></span></code></pre>
<h2 id="configure-elastic-apm">Configure Elastic APM</h2>
<p>Create an <a href="https://cloud.elastic.co/registration">Elastic Cloud Account</a> -> Observability Deployment. You can refer to <a href="https://aravind.dev/elastic-cloud-apm">my guide with screenshots on account creation</a>.</p>
<p><a href="https://search.maven.org/search?q=g:co.elastic.apm%20AND%20a:elastic-apm-agent">Download</a> the latest Elastic Java APM agent to root (<code>cloud-run-sql</code>) folder of the application. Rename <code>elastic-apm-agent-1.23.jar</code> to <code>elastic-apm-agent.jar</code></p>
<blockquote>
<p>Note: Don‚Äôt declare a dependency to the agent in your application.</p>
</blockquote>
<p>Copy the APM server URL and Secret token; paste in the <code>elasticapm.properties</code></p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#D8DEE9FF">service_name=attendance-tracker</span></span>
<span class="line"><span style="color:#D8DEE9FF">application_packages=cloudcode.helloworld</span></span>
<span class="line"><span style="color:#D8DEE9FF">server_url=</span></span>
<span class="line"><span style="color:#D8DEE9FF">secret_token=</span></span>
<span class="line"></span></code></pre>
<h3 id="building-a-docker-container">Building a Docker Container</h3>
<p>Below Dockerfile is already available in the repository cloned.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="docker"><code><span class="line"><span style="color:#616E88"># Using the official maven/Java 11 image to create a build artifact.</span></span>
<span class="line"><span style="color:#616E88"># https://hub.docker.com/_/maven</span></span>
<span class="line"><span style="color:#81A1C1">FROM</span><span style="color:#D8DEE9FF"> maven:3-jdk-11-slim </span><span style="color:#81A1C1">AS</span><span style="color:#D8DEE9FF"> build-env</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Set the working directory to /app</span></span>
<span class="line"><span style="color:#81A1C1">WORKDIR</span><span style="color:#D8DEE9FF"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Copy the pom.xml file to download dependencies</span></span>
<span class="line"><span style="color:#81A1C1">COPY</span><span style="color:#D8DEE9FF"> pom.xml ./</span></span>
<span class="line"><span style="color:#616E88"># Copy local code to the container image.</span></span>
<span class="line"><span style="color:#81A1C1">COPY</span><span style="color:#D8DEE9FF"> src ./src</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Download dependencies and build a release artifact.</span></span>
<span class="line"><span style="color:#81A1C1">RUN</span><span style="color:#D8DEE9FF"> mvn package -DskipTests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Use OpenJDK for base image.</span></span>
<span class="line"><span style="color:#616E88"># https://hub.docker.com/_/openjdk</span></span>
<span class="line"><span style="color:#616E88"># https://docs.docker.com/develop/develop-images/multistage-build/#use-multi-stage-builds</span></span>
<span class="line"><span style="color:#81A1C1">FROM</span><span style="color:#D8DEE9FF"> openjdk:11-jre-slim</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Copy the Elastic APM jar to the production image.</span></span>
<span class="line"><span style="color:#81A1C1">COPY</span><span style="color:#D8DEE9FF"> elastic-apm-agent.jar /</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Copy the properties file for the APM jar to recognize.</span></span>
<span class="line"><span style="color:#81A1C1">COPY</span><span style="color:#D8DEE9FF"> src/main/resources/elasticapm.properties /</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Copy the jar to the production image from the builder stage.</span></span>
<span class="line"><span style="color:#81A1C1">COPY</span><span style="color:#D8DEE9FF"> --from=build-env /app/target/student-attendance-*.jar /student-attendance.jar</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88"># Run the web service on container startup.</span></span>
<span class="line"><span style="color:#81A1C1">CMD</span><span style="color:#D8DEE9FF"> [</span><span style="color:#A3BE8C">"java"</span><span style="color:#D8DEE9FF">, </span><span style="color:#A3BE8C">"-javaagent:elastic-apm-agent.jar"</span><span style="color:#D8DEE9FF">, </span><span style="color:#A3BE8C">"-jar"</span><span style="color:#D8DEE9FF">, </span><span style="color:#A3BE8C">"/student-attendance.jar"</span><span style="color:#D8DEE9FF">]</span></span>
<span class="line"></span></code></pre>
<h3 id="deploying-application-via-cloud-code">Deploying Application via Cloud Code</h3>
<p>Cloud Code is a VS Code Extension that helps you to deploy to Google Cloud Platform Services. In this case, we‚Äôre using it to deploy to Cloud Run.</p>
<p><em>Note:</em> The editor we opened earlier contains cloud code by default.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-cloud-vs-code.png" alt="Cloud Code VS Code Extension"></p>
<p>It will build the container image, push it to the Google Cloud Container Registry, eventually deploying to Google Cloud Run.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-deploy-run.png" alt="Deploy to Cloud Run"></p>
<p>Create a service, choose a region you want to deploy the container.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-deploy-page.png" alt="VS Code Cloud Run Deploy Page"></p>
<p>Once the container is built and deployed, you will get an URL. Every Cloud Run service gets a <code>*.run.app</code> domain name for free.</p>
<h3 id="analysing-application-metrics-via-elastic-apm-in-kibana">Analysing Application Metrics via Elastic APM in Kibana</h3>
<p>As we configured the application to send traces, head over to Kibana ‚Üí APM to view everything happening in your application.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-ess-apm-page.png" alt="Elastic Cloud APM Overview"></p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-ess-latency.png" alt="Elastic Cloud APM Latency"></p>
<p>Tracing enables us to collect request spans and which method is responding slow.</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-spans.png" alt="Elastic Cloud APM Spans"></p>
<p>Watch how the java heap is occupied by the application as well as the garbage collection cycle!</p>
<p><img src="/images/post-images/cloud-run-mysql-tracing/cloud-run-jvm-stats.png" alt="Elastic Cloud APM JVM Stats"></p>
<p>The application logs are shipped to Google operations (previously Stackdriver). Suppose you can ingest them via <a href="https://www.elastic.co/blog/monitoring-google-cloud-with-the-elastic-stack-and-google-operations">filebeat google cloud module</a>. In that case, you could simply correlate the logs, metrics, and traces from the infrastructure.</p>
<h3 id="tear-down">Tear Down</h3>
<p>Execute the below commands to delete the cloud run container deployed and the Cloud SQL instance.</p>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="docker"><code><span class="line"><span style="color:#D8DEE9FF">gcloud run services delete [SERVICE_NAME]</span></span>
<span class="line"></span></code></pre>
<pre class="astro-code nord" style="background-color:#2e3440ff;color:#d8dee9ff; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="docker"><code><span class="line"><span style="color:#D8DEE9FF">gcloud sql instances delete [INSTANCE_NAME]</span></span>
<span class="line"></span></code></pre>
<h2 id="congratulations">Congratulations</h2>
<p>Congratulations, you‚Äôve successfully built a container serverless app deployed it in the cloud!</p>
<p>In this lab, you have successfully learnt</p>
<ul>
<li>Creating Google Cloud SQL instance.</li>
<li>Built a Spring Cloud MySQL app.</li>
<li>Configured Tracing on Java Application.</li>
<li>Deploy the containerized serverless application to Google Cloud Run.</li>
</ul>
<h3 id="reference-docs">Reference docs</h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=PwY4UtMvLAE">Youtube video of on how to use Cloud shell</a></li>
<li><a href="https://github.com/aravindputrevu/elastic-cloud-samples/elastic-apm/cloud-run-sql">Git Repository</a></li>
<li><a href="https://www.elastic.co/guide/en/apm/index.html">Elastic APM Documentation</a></li>
<li><a href="https://www.elastic.co/guide/en/apm/agent/java/current/supported-technologies-details.html">Java Agent Supported Technologies and Frameworks.</a></li>
<li><a href="https://www.elastic.co/guide/en/apm/agent/index.html">Other Programming Language Elastic APM Agents.</a></li>
</ul>
<h3 id="further-reading">Further Reading</h3>
<p>Check out some of these blogs‚Ä¶</p>
<ul>
<li><a href="https://www.elastic.co/blog/monitoring-java-applications-and-getting-started-with-the-elastic-apm-java-agent">Monitoring a Java App</a></li>
<li><a href="https://www.elastic.co/blog/kubernetes-observability-tutorial-k8s-monitoring-application-performance-with-elastic-apm">Kubernetes Observability Tutorial</a></li>
</ul> </div> </article>  </main> <footer class="footer flex"> <section class="container"> <nav class="footer-links"> <a href="/blog">Blogs</a> <a href="/guides">Guides</a> <a href="https://putrevu.substack.com/subscribe" target="_blank" rel="noopener noreferrer">
Newsletter
</a> <a href="https://twitter.com/aravindputrevu" target="_blank" rel="noopener noreferrer">
Twitter
</a> <a href="/rss.xml">RSS</a> </nav> <nav class="flex justify-center"> <a href="https://astro.build/" title="Built with Astro" target="_blank" rel="noopener noreferrer" class="img"> <img src="/thumbnails/astro.png" class="footer-img" alt="Astro"> </a> <a href="https://github.com/aravindputrevu" title="Open-source on GitHub" target="_blank" rel="noopener noreferrer" class="img"> <img src="/thumbnails/github.png" class="footer-img" alt="GitHub"> </a> <a href="https://github.com/taniarascia/taniarascia.com" title="Original Theme Source" target="_blank" rel="noopener noreferrer" class="img"> <img src="/thumbnails/original-tag.png" class="footer-img" alt="OG Source"> </a> </nav> </section> </footer>  </body> </html> 